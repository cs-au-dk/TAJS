<html>
<head>
<title>Shannon Larratt's APOPHIS 2029</title>

<!--
Enjoy and feel free to borrow the Javascript for your own projects.
I can be reached at snowrail@gmail.com or at http://www.zentastic.com/
-->

<style type="text/css">
body {overflow:hidden}
</style>

<script language="JavaScript">

//Screen size and globals
myWidth = 640;
myHeight = 480;
myCenterH = 320;
myCenterV = 240;
mouseX = 0;
mouseY = 0;

//data about missiles
maxMissiles = 10;
missileStatus = [];
missileX = [];
missileY = [];
missileIteration = [];

//data about meteors
meteorPeriod = 1000;
maxMeteors = 12;
meteorVelocity = 10;
meteorStatus = [];
meteorX = [];
meteorY = [];
meteorIteration = [];
meteorVelocityX = [];
meteorVelocityY = [];

//data about shields
shieldStat = [];
shieldH = [];

//data about smoke puffs
maxPuffs = 24;
puffStat = [];
puffX = [];
puffY = [];

//data about explosions
maxExplosions = 9;
explosionStat = [];
explosionX = [];
explosionY = [];

//Stats
myScore = 0;
myLevel = 1;
myLives = 5;
myKills = 0;

//Game status
tankLive = 0;
meteorLive = 0;
tankH = 0;
tankIteration = 1;
isPaused = 0;

//Get the window size
function getWindowSize()
  {
  if (typeof(window.innerWidth) == 'number')
    {
    //Non-IE
    myWidth = window.innerWidth;
    myHeight = window.innerHeight;
    }
  else if (document.documentElement && (document.documentElement.clientWidth || document.documentElement.clientHeight))
    {
    //IE 6+ in 'standards compliant mode'
    myWidth = document.documentElement.clientWidth;
    myHeight = document.documentElement.clientHeight;
    }
  else if (document.body && (document.body.clientWidth || document.body.clientHeight))
    {
    //IE 4 compatible
    myWidth = document.body.clientWidth;
    myHeight = document.body.clientHeight;
    }
  myCenterH = myWidth / 2;
  myCenterV = myHeight / 2;
  }

//Write text variables (score, level, lives) to screen
function writeText()
  {
  //Do Level
  //Int to Str
  var stringText = myLevel + '';
  //Pad string
  var i = 0;
  for (i = 1; i <= 2; i++)
    {
    if (stringText.length < 2)
      {
      stringText = '0' + stringText;
      }
    }
  for (i = 1; i <= 2; i++)
    {
    document.getElementById('LEVEL' + i).src = "img/numbers" + stringText.charAt(i - 1) + ".png";
    }
  //Do Score
  //Int to Str
  var stringText = myScore + '';
  //Pad string
  for (i = 1; i <= 5; i++)
    {
    if (stringText.length < 5)
      {
      stringText = '0' + stringText;
      }
    }
  for (i = 1; i <= 5; i++)
    {
    document.getElementById('SCORE' + i).src = "img/numbers" + stringText.charAt(i - 1) + ".png";
    }
  //Do Lives
  //Int to Str
  var stringText = myLives + '';
  //Pad string
  for (i = 1; i <= 2; i++)
    {
    if (stringText.length < 2)
      {
      stringText = '0' + stringText;
      }
    }
  for (i = 1; i <= 2; i++)
    {
    document.getElementById('LIVES' + i).src = "img/numbers" + stringText.charAt(i - 1) + ".png";
    }
  }

//Animate/Move Moon
function drawMoon(iteration)
  {
  iteration++;
  if (iteration > myWidth)
    {
    iteration = -100;
    }
  moonLoc = myHeight - (Math.sin(((iteration * 2.5) / myWidth)) * 250)- 200;
  moveObjTo(MOON, iteration, moonLoc)
//  window.setTimeout("drawMoon(" + iteration + ");", 200); // rewritten, mdi
  window.setTimeout(function() {drawMoon(iteration);}, 200);
  }

//Track Mouse
function trackMouse(event)
  {
  mouseX = event.clientX;
  mouseY = event.clientY;
  }

//Get things started... but not until the images are loaded!
function picLoadInit()
  {
  if (isImageOk(INFOTEXT))
    {
    //Init vars
    var i = 0;
    for (i = 1; i <= maxMeteors; i++)
      {
      meteorStatus[i] = 0;
      }
    for (i = 1; i <= maxPuffs; i++)
      {
      puffStat[i] = 0;
      }
    for (i = 1; i <= maxExplosions; i++)
      {
      explosionStat[i] = 0;
      }
    //Init routines go here
    moveObjTo(LOADING, 0, -500);
    initScreen();
    initLive();
    writeText();
    getReady(1);
    moveTank();
    initShields();
    fireMeteor();
    puffer();
    }
  else
    {
    window.setTimeout("picLoadInit();", 200);
    }
  }

//Reset button
function resetButton()
  {
  document.getElementById('GAMEOVER').style.left = -500;
  myScore = 0;
  myKills = 0;
  myLevel = 1;
  myLives = 5;
  writeText();
  var i = 0;
  for (i = 1; i <= maxMeteors; i++)
    {
    meteorStatus[i] = 0;
    document.getElementById('METEOR' + i).style.left = -500;
    }
  for (i = 1; i <= maxPuffs; i++)
    {
    puffStat[i] = 0;
    document.getElementById('PUFF' + i).style.left = -500;
    }
  initShields();
  getReady(1);
  }

//Game over
function gameOver()
  {
  tankLive = 0;
  tankH = -50;
  meteorLive = 0;
  document.getElementById('TANK1').style.left = -500;
  document.getElementById('GAMEOVER').style.left = myCenterH - 93;
  document.getElementById('GAMEOVER').style.top = myCenterV - 14;
  }

//Get ready...! (Pause, post notice, and Go!)
function getReady(iteration)
  {
  if (iteration == 1)
    {
    tankLive = 0;
    meteorLive = 0;
    tankH = -50
    document.getElementById('TANK1').style.left = -50;
    document.getElementById('GETREADY').style.left = myCenterH - 97;
    document.getElementById('GETREADY').style.top = myCenterV - 16;
    //window.setTimeout("getReady(2);", 1000); // rewritten, mdi
    window.setTimeout(function() { getReady(2); }, 1000);
    }
  else if (iteration == 2)
    {
    tankLive = 1;
    //window.setTimeout("getReady(3);", 500); // rewritten, mdi
    window.setTimeout(function() { getReady(3); }, 500);
    }
  else
    {
    document.getElementById('GETREADY').style.top = -500;
    meteorLive = 1;
    }
  }

//Checks if an image is loaded with a couple methods
function isImageOk(img)
  {
  if (!img.complete)
    {
    return false;
    }
  if (typeof img.naturalWidth != "undefined" && img.naturalWidth == 0)
    {
    return false;
    }
  return true;
  }

//Reactivate (pauses for a moment to avoid triggering a false click)
function doReactivate(iteration)
  {
  if (iteration == 1)
    {
    //window.setTimeout("doReactivate(2);", 50); // rewritten, mdi
	   window.setTimeout(function() { doReactivate(2); }, 50);
    }
  else
    {
    isPaused = 0;
    tankLive = 1;
    }
  }

//Toggle "info" screen
function showInfo()
  {
  if (isPaused == 0)
    {
    moveObjTo(INFOTEXT, myCenterH - 157, myCenterV - 85);
    togglePaused()
    }
  }

//Toggle "paused" status
function togglePaused()
  {
  if (isPaused == 1)
    {
    PAUSED.style.height = 100;
    PAUSED.style.width = 100;
    moveObjTo(PAUSED, 0, -500);
    moveObjTo(INFOTEXT, 0, -500);
    doReactivate(1);
    }
  else
    {
    isPaused = 1;
    moveObjTo(PAUSED, 0, 0);
    PAUSED.style.height = myHeight;
    PAUSED.style.width = myWidth;
    }
  }

//Set up the basic layout
function initScreen()
  {
  document.bgColor = "#767676";
  //Scale full-width elements, if required
  if (myWidth > 1500)
    {
    //Moving full width elements must be at least 100 greater than screen width
    CLOUDS1.width = myWidth + 100;
    CLOUDS2.width = myWidth + 100;
    CLOUDS3.width = myWidth + 100;
    MOUNTAINS.width = myWidth;
    GROUND.width = myWidth;
    }

  moveObjTo(MOUNTAINS, 0, myHeight - 236);
  moveObjTo(GROUND, 0, myHeight - 57);

  moveObjTo(TITLE, 15, 15);

  moveObjTo(GRASS11, 0, myHeight - 118);
  moveObjTo(GRASS21, myWidth - 120, myHeight - 100);

  moveObjTo(LEVEL1, myWidth - 240, 15);
  moveObjTo(LEVEL2, myWidth - 220, 15);
  moveObjTo(SCORE1, myWidth - 180, 15);
  moveObjTo(SCORE2, myWidth - 160, 15);
  moveObjTo(SCORE3, myWidth - 140, 15);
  moveObjTo(SCORE4, myWidth - 120, 15);
  moveObjTo(SCORE5, myWidth - 100, 15);
  moveObjTo(LIVES1, myWidth - 60, 15);
  moveObjTo(LIVES2, myWidth - 40, 15);
  moveObjTo(LEVEL, myWidth - 237, 40);
  moveObjTo(SCORE, myWidth - 179, 40);
  moveObjTo(LIVES, myWidth - 57, 40);
  moveObjTo(RESET, myWidth - 179, 70);
  moveObjTo(PAUSE, myWidth - 115, 70);
  moveObjTo(INFO, myWidth - 52, 70);
  }

//Init live objects
function initLive()
  {
  locX = (Math.random() * myWidth);  drawMoon(locX);
  cloudJiggler(CLOUDS1, 1, 50);
  cloudJiggler(CLOUDS2, 1, 70);
  cloudJiggler(CLOUDS3, 1, 110);
  waveGrass1(1, 150);
  waveGrass2(1, 140);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN1A, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN2A, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN3A, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN4A, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN5A, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN1B, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN2B, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN3B, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN4B, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN5B, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN1C, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN2C, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN3C, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN4C, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN5C, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN1D, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN2D, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN3D, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN4D, locX, locY, speed);
  locX = (Math.random() * myWidth);  locY = (Math.random() * myHeight);  speed = (Math.random() * 10) + 1;  doRain(RAIN5D, locX, locY, speed);
  }

//Reset shields
function initShields()
  {
  shieldStat[1] = 1;
  shieldStat[2] = 1;
  shieldStat[3] = 1;
  shieldStat[4] = 1;
  shieldStat[5] = 1;
  var i = 0;
  for (i = 1; i <= 5; i++)
    {
    shieldH[i] = (((myWidth - 200) / 5) * (i - 1)) + 150
    document.getElementById('SHIELD' + i).src = "img/shield1.png";
    document.getElementById('SHIELD' + i).style.top = myHeight - 100;
    document.getElementById('SHIELD' + i).style.left = shieldH[i];
    }
  }

//Draw shields
function drawShields()
  {
  var i = 0;
  for (i = 1; i <= 5; i++)
    {
    if (shieldStat[i] > 0)
      {
      document.getElementById('SHIELD' + i).src = "img/shield" + shieldStat[i] + ".png";
      }
    else
      {
      document.getElementById('SHIELD' + i).style.top = -500
      }
    }
  }

//Tank explosion
function tankExplosion(explodeX, iteration)
  {
  if (iteration == 8)
    {
    moveObjTo(TANKEXPLODE, explodeX - 37, -500);
    }
  else
    {
    moveObjTo(TANKEXPLODE, explodeX - 37, myHeight - 75);
    document.getElementById('TANKEXPLODE').src = "img/tank-explode" + iteration + ".png";
    }
  iteration++;
  if (iteration < 9)
    {
	    //window.setTimeout("tankExplosion(" + explodeX + "," + iteration + ");", 250); // rewritten, mdi
	    window.setTimeout(function() { tankExplosion(explodeX, iteration); }, 250);
    }
  }


//Fire a new meteor (if available) periodically
function fireMeteor()
  {
  var i = 0;
  var launchMe = 0;
  for (i = 1; i <= maxMeteors; i++)
    {
    //try and find a launch slot
    if (meteorStatus[i] != 1)
      {
      launchMe = i;
      }
    }
  if (launchMe > 0 && isPaused == 0)
    {
    meteorStatus[launchMe] = 1;
    meteorX[launchMe] = (Math.random() * (myWidth + 300)) + 100;
    meteorY[launchMe] = -20
    meteorIteration[launchMe] = 1;
    angleRad = (135 + (Math.random() * 90)) * (Math.PI / 180);
    meteorVelocityX[launchMe] = (meteorVelocity + myLevel) * Math.sin(angleRad);
    meteorVelocityY[launchMe] = (meteorVelocity + myLevel) * Math.cos(angleRad);
    maintainMeteor(launchMe);
    }
  window.setTimeout("fireMeteor();", meteorPeriod);
  }

//Maintain and track meteor
function maintainMeteor(meteorNo)
  {
  if (isPaused == 1 || meteorLive == 0)
    {
	    //window.setTimeout("maintainMeteor(" + meteorNo + ");", 200); // rewritten, mdi
	    window.setTimeout(function() { maintainMeteor(meteorNo); }, 200);
    }
  else
    {
    meteorY[meteorNo] = meteorY[meteorNo] - meteorVelocityY[meteorNo];
    meteorX[meteorNo] = meteorX[meteorNo] + meteorVelocityX[meteorNo];
    mWidth = document.getElementById('METEOR' + meteorNo).style.width;
    mHeight = document.getElementById('METEOR' + meteorNo).style.height;
    if (meteorStatus[meteorNo] != 0)
      {
      document.getElementById('METEOR' + meteorNo).style.top = meteorY[meteorNo] - (mWidth / 2);
      document.getElementById('METEOR' + meteorNo).style.left = meteorX[meteorNo] - (mHeight / 2);
      }
    meteorIteration[meteorNo]++;
    if (meteorIteration[meteorNo] == 4)
      {
      meteorIteration[meteorNo] = 1;
      }
    //Meteor type
    meteorType = ((meteorNo + 3) % 4) + 1;
    document.getElementById('METEOR' + meteorNo).src = "img/meteor" + meteorType + meteorIteration[meteorNo] + ".png";

    //Look for collisions with shields
    var i = 0;
    var hitMe = 0;
    for (i = 1; i <= 5; i++)
      {
      hitMe = collide('METEOR' + meteorNo, 'SHIELD' + i);
      if (hitMe == 1)
        {
        if (shieldStat[i] < 7 && shieldStat[i] > 0)
          {
          shieldStat[i]++;
          }
        else
          {
          shieldStat[i] = 0;
          }
        drawShields();
        meteorStatus[meteorNo] = 0;
        explosion(meteorX[meteorNo], meteorY[meteorNo]);
        document.getElementById('METEOR' + meteorNo).style.top = -500;
        }
      }

    //Game over if all shields are destroyed
    allDead = 1;
    for (i = 1; i <= 5; i++)
      {
      if (shieldStat[i] > 0)
        {
        allDead = 0;
        }
      }
    if (allDead == 1)
      {
      meteorStatus[meteorNo] = 0;
      gameOver();
      }

    //Look for collisions with tank
    hitMe = collide('METEOR' + meteorNo, 'TANK1');
    if (hitMe > 0)
      {
      meteorStatus[meteorNo] = 0;
      tankExplosion(tankH, 1);
      document.getElementById('METEOR' + meteorNo).style.top = -500;
      myLives--;
      writeText();
      if (myLives == 0)
        {
        gameOver();
        }
      else
        {
        getReady(1);
        }
      }

    if (meteorStatus[meteorNo] == 0 || meteorY[meteorNo] > myHeight || meteorX[meteorNo] < - 100 || meteorX[meteorNo] >= myWidth + 100)
      {
      meteorStatus[meteorNo] = 0;
      }
    else
      {
    	  //window.setTimeout("maintainMeteor(" + meteorNo + ");", 80- myLevel); // rewritten, mdi
    	   window.setTimeout(function() { maintainMeteor(meteorNo); }, 80- myLevel);
      }
    }
  }

//Rain
function doRain(obj, locX, locY, speed)
  {
  if (tankLive == 1)
    {
    if (locX < -70 || locY > myHeight)
      {
      locX = (Math.random() * (myWidth + 300)) + 100;
      locY = -150;
      }
    else
      {
      locX = locX - (0.76 * speed);
      locY = locY + (1.71 * speed);
      }
    moveObjTo(obj, locX, locY)
    }
  //window.setTimeout("doRain(" + obj.id + "," + locX + "," + locY + "," + speed + ");", 25); // rewritten, mdi
  window.setTimeout(function() { doRain(obj.id, locX, locY, speed); }, 25);
  }

//Fire new missile (if available)
function fireMissile()
  {
  var i = 0;
  var launchMe = 0;
  for (i = 1; i <= maxMissiles; i++)
    {
    //try and find a launch slot
    if (missileStatus[i] != 1)
      {
      launchMe = i;
      }
    }
  if (launchMe > 0 && isPaused == 0 && tankLive == 1)
    {
    missileStatus[launchMe] = 1;
    missileX[launchMe] = tankH;
    missileY[launchMe] = myHeight - 55;
    missileIteration[launchMe] = 1;
    maintainMissile(launchMe);
    }
  }

//Move missiles and track for collision (or leaving screen)
function maintainMissile(missileNo)
  {
  if (isPaused == 1)
    {
    //window.setTimeout("maintainMissile(" + missileNo + ");", 200); // rewritten, mdi
    window.setTimeout(function() { maintainMissile(missileNo); }, 200);
    return;
    }
  missileY[missileNo] = missileY[missileNo] - 10;
  document.getElementById('BULLET' + missileNo).style.top = missileY[missileNo];
  document.getElementById('BULLET' + missileNo).style.left = missileX[missileNo] - 6;
  missileIteration[missileNo]++;
  if (missileIteration[missileNo] == 5)
    {
    missileIteration[missileNo] = 1;
    }
  document.getElementById('FLAME' + missileNo).src = "img/flame" + missileIteration[missileNo] + ".png";
  document.getElementById('FLAME' + missileNo).style.top = missileY[missileNo] + 24;
  document.getElementById('FLAME' + missileNo).style.left = missileX[missileNo] - 6;

  //Look for collisions with meteors
  var i = 0;
  var hitMe = 0;
  for (i = 1; i <= maxMeteors; i++)
    {
    hitMe = collide('BULLET' + missileNo, 'METEOR' + i);
    if (hitMe > 0)
      {
      missileStatus[missileNo] = 0;
      document.getElementById('FLAME' + missileNo).style.top = -500;
      document.getElementById('BULLET' + missileNo).style.top = -500;
      document.getElementById('METEOR' + i).style.top = -500;
      explosion(meteorX[i], meteorY[i]);
      meteorStatus[i] = 0;
      myScore = myScore + 50 + myLevel;
      myKills++;
      if (myKills == 12)
        {
        myKills = 0;
        myLevel++;
        }
      writeText();
      }
    }
  if (missileY[missileNo] < -40 || missileStatus[missileNo] == 0)
    {
    missileStatus[missileNo] = 0;
    }
  else
    {
    //window.setTimeout("maintainMissile(" + missileNo + ");", 20); // rewritten, mdi
	    window.setTimeout(function() { maintainMissile(missileNo); }, 20);
    }
  }

//Puffer periodically creates puffs
function puffer()
  {
  var i = 0;
  var launchMe = 0;
  for (i = 1; i <= maxPuffs; i++)
    {
    //try and find a launch slot
    if (puffStat[i] == 0)
      {
      launchMe = i;
      }
    }
  puffStat[launchMe] = -1;
  if (launchMe > 0 && isPaused == 0)
    {
    var start = 0;
    start = Math.floor((Math.random() * maxMeteors) + 1)
    for (i = start; i <= start + 11; i++)
      {
      thisM = i;
      if (thisM > 12)
        {
        thisM = thisM - 12;
        }
      if (meteorStatus[thisM] > 0)
        {
        whichMeteor = thisM;
        puffX[launchMe] = meteorX[whichMeteor];
        puffY[launchMe] = meteorY[whichMeteor];
        puffStat[launchMe] = 1;
        }
      }
    if (puffStat[launchMe] == 1)
      {
      maintainPuff(launchMe);
      }
    else
      {
      puffStat[launchMe] = 0;
      }
    }
  window.setTimeout("puffer();", 50);
  }

//Check two objects for collision
function collide(obj1, obj2)
  {
  var l1 = 0;  var l2 = 0;  var r1 = 0;  var r2 = 0;  var t1 = 0;  var t2 = 0;  var b1 = 0;  var b2 = 0;
  l1 = parseInt(document.getElementById(obj1).style.left) + 3;
  r1 = parseInt(document.getElementById(obj1).style.left) + parseInt(document.getElementById(obj1).width) - 3;
  l2 = parseInt(document.getElementById(obj2).style.left) + 3;
  r2 = parseInt(document.getElementById(obj2).style.left) + parseInt(document.getElementById(obj2).width) - 3;
  t1 = parseInt(document.getElementById(obj1).style.top) + 3;
  b1 = parseInt(document.getElementById(obj1).style.top) + parseInt(document.getElementById(obj1).height) - 3;
  t2 = parseInt(document.getElementById(obj2).style.top) + 3;
  b2 = parseInt(document.getElementById(obj2).style.top) + parseInt(document.getElementById(obj1).height) - 3;

  if (r1 > l2 && l1 < r2 && t1 < b2 && b1 > t2)
    {
    return 1;
    }
  else
    {
    return 0;
    }
  }

//Maintain puff
function maintainPuff(puffNo)
  {
  if (isPaused == 0 && meteorLive == 1)
    {
    if (puffStat[puffNo] > 3)
      {
      document.getElementById('PUFF' + puffNo).style.top = -500;
      puffStat[puffNo] = 0;
      }
    else
      {
      puffType = ((puffNo + 3) % 4) + 1;
      document.getElementById('PUFF' + puffNo).src = "img/puff" + puffType + puffStat[puffNo] + ".png";
      document.getElementById('PUFF' + puffNo).style.top = puffY[puffNo]
      document.getElementById('PUFF' + puffNo).style.left = puffX[puffNo]
      puffStat[puffNo]++;
      //window.setTimeout("maintainPuff(" + puffNo + ");", 250); // rewritten, mdi
      window.setTimeout(function() { maintainPuff(puffNo); }, 250);
      }
    }
  else
    {
    //window.setTimeout("maintainPuff(" + puffNo + ");", 250); // rewritten, mdi
	    window.setTimeout(function() { maintainPuff(puffNo); }, 250);
    }
  }

//Create an explosion
function explosion(explodeX, explodeY)
  {
  var i = 0;
  var launchMe = 0;
  for (i = 1; i <= maxExplosions; i++)
    {
    //try and find a launch slot
    if (explosionStat[i] == 0)
      {
      launchMe = i;
      }
    }
  if (launchMe > 0 && isPaused == 0)
    {
    explosionStat[launchMe] = 1;
    explosionX[launchMe] = explodeX;
    explosionY[launchMe] = explodeY;
    //window.setTimeout("maintainExplosion(" + launchMe + ");", 50); // rewritten, mdi
    window.setTimeout(function() { maintainExplosion(launchMe); }, 50);
    }
  }

//Maintain explosion
function maintainExplosion(explosionNo)
  {
  if (isPaused == 0)
    {
    if (explosionStat[explosionNo] > 5)
      {
      document.getElementById('EXPLOSION' + explosionNo).style.top = -500;
      explosionStat[explosionNo] = 0;
      }
    else
      {
      explosionType = ((explosionNo + 2) % 3) + 1;
      document.getElementById('EXPLOSION' + explosionNo).src = "img/explode" + explosionType + explosionStat[explosionNo] + ".png";
      document.getElementById('EXPLOSION' + explosionNo).style.top = explosionY[explosionNo] - 25;
      document.getElementById('EXPLOSION' + explosionNo).style.left = explosionX[explosionNo] - 25;
      explosionStat[explosionNo]++;
      //window.setTimeout("maintainExplosion(" + explosionNo + ");", 50); // rewritten, mdi
      window.setTimeout(function() { maintainExplosion(explosionNo); }, 50);
      }
    }
  else
    {
    //window.setTimeout("maintainExplosion(" + explosionNo + ");", 200); // rewritten, mdi
	    window.setTimeout(function() { maintainExplosion(explosionNo); }, 200);
    }
  }


//Move tank
function moveTank()
  {
  if (tankLive == 1 && isPaused == 0)
    {
    if (tankH < mouseX)
      {
      tankH = tankH + (Math.abs(mouseX - tankH) / 2) + 3;
      tankIteration++;
      if (tankIteration == 4)
        {
        tankIteration = 1;
        }
      document.getElementById('TANK1').src = "img/tank" + tankIteration + ".png";
      if (tankH > mouseX)
        {
        tankH = mouseX;
        }
      }
    else if (tankH > mouseX)
      {
      tankH = tankH - (Math.abs(mouseX - tankH) / 2) - 3;
      tankIteration--;
      if (tankIteration == 0)
        {
        tankIteration = 3;
        }
      document.getElementById('TANK1').src = "img/tank" + tankIteration + ".png";
      if (tankH < mouseX)
        {
        tankH = mouseX;
        }
      }
    }
    moveObjTo(TANK1, tankH - 33, myHeight - 55);
    window.setTimeout("moveTank();", 20);
  }

//Wave grass
function waveGrass1(iteration, speed)
  {
  iteration++
  if (iteration > 4)
    {
    iteration = 0;
    }
  if (iteration == 0)
    {
    GRASS11.src = "img/grass11.png";
    }
  else if (iteration == 1)
    {
    GRASS11.src = "img/grass12.png";
    }
  else if (iteration == 2)
    {
    GRASS11.src = "img/grass13.png";
    }
  else
    {
    GRASS11.src = "img/grass12.png";
    }
  //window.setTimeout("waveGrass1(" + iteration + "," + speed + ");", speed); // rewritten, mdi
  window.setTimeout(function() { waveGrass1(iteration, speed); }, speed);
  }
function waveGrass2(iteration, speed)
  {
  iteration++
  if (iteration > 4)
    {
    iteration = 0;
    }
  if (iteration == 0)
    {
    GRASS21.src = "img/grass21.png";
    }
  else if (iteration == 1)
    {
    GRASS21.src = "img/grass22.png";
    }
  else if (iteration == 2)
    {
    GRASS21.src = "img/grass23.png";
    }
  else
    {
    GRASS21.src = "img/grass22.png";
    }
  //window.setTimeout("waveGrass2(" + iteration + "," + speed + ");", speed); // rewritten, mdi
  window.setTimeout(function() { waveGrass2(iteration, speed); }, speed);
  }

//Do cloud motion
function cloudJiggler(obj, iteration, speed)
  {
  iteration++;
  tempTop = (Math.sin((iteration) / 20) * 50) - 50;
  moveObjTo(obj, tempTop, 0);
  //window.setTimeout("cloudJiggler(" + obj.id + "," + iteration + "," + speed + ");", speed); // rewritten, mdi
  window.setTimeout(function() { cloudJiggler(obj.id, iteration, speed); }, speed);
  }

//Simple move function
function moveObjTo(obj,oleft,otop)
  {
  obj.style.left = oleft;
  obj.style.top = otop;
  }

</script>

</head>

<body bgcolor="#ffffff" onResize="getWindowSize(); initScreen(); resetButton();" onMouseMove="trackMouse(event);" onClick="fireMissile();" >

<img id="LOADING" style="z-index: 150; left: 20px; top: 20px; position: absolute;" width=370 height=60 align=baseline border=0 hspace=0 src="img/loading.gif" />

<img id="MOUNTAINS" style="z-index: 30; left: 0px; top: -500px; position: absolute;" width=1600 height=237 align=baseline border=0 hspace=0 src="img/mountains.png" />
<img id="GROUND" style="z-index: 40; left: 0px; top: -500px; position: absolute;" width=1600 height=58 align=baseline border=0 hspace=0 src="img/ground.png" />

<img id="MOON" style="z-index: 20; left: 0px; top: -500px; position: absolute;" width=53 height=64 align=baseline border=0 hspace=0 src="img/moon.png" />

<img id="RAIN1A" style="z-index: 88; left: 0px; top: -500px; position: absolute;" width=47 height=103 align=baseline border=0 hspace=0 src="img/rain1.png" />
<img id="RAIN2A" style="z-index: 88; left: 0px; top: -500px; position: absolute;" width=25 height=55 align=baseline border=0 hspace=0 src="img/rain2.png" />
<img id="RAIN3A" style="z-index: 88; left: 0px; top: -500px; position: absolute;" width=17 height=35 align=baseline border=0 hspace=0 src="img/rain3.png" />
<img id="RAIN4A" style="z-index: 88; left: 0px; top: -500px; position: absolute;" width=9 height=17 align=baseline border=0 hspace=0 src="img/rain4.png" />
<img id="RAIN5A" style="z-index: 88; left: 0px; top: -500px; position: absolute;" width=65 height=142 align=baseline border=0 hspace=0 src="img/rain5.png" />
<img id="RAIN1B" style="z-index: 108; left: 0px; top: -500px; position: absolute;" width=47 height=103 align=baseline border=0 hspace=0 src="img/rain1.png" />
<img id="RAIN2B" style="z-index: 108; left: 0px; top: -500px; position: absolute;" width=25 height=55 align=baseline border=0 hspace=0 src="img/rain2.png" />
<img id="RAIN3B" style="z-index: 108; left: 0px; top: -500px; position: absolute;" width=17 height=35 align=baseline border=0 hspace=0 src="img/rain3.png" />
<img id="RAIN4B" style="z-index: 108; left: 0px; top: -500px; position: absolute;" width=9 height=17 align=baseline border=0 hspace=0 src="img/rain4.png" />
<img id="RAIN5B" style="z-index: 108; left: 0px; top: -500px; position: absolute;" width=65 height=142 align=baseline border=0 hspace=0 src="img/rain5.png" />

<img id="RAIN1C" style="z-index: 118; left: 0px; top: -500px; position: absolute;" width=47 height=103 align=baseline border=0 hspace=0 src="img/rain1.png" />
<img id="RAIN2C" style="z-index: 118; left: 0px; top: -500px; position: absolute;" width=25 height=55 align=baseline border=0 hspace=0 src="img/rain2.png" />
<img id="RAIN3C" style="z-index: 118; left: 0px; top: -500px; position: absolute;" width=17 height=35 align=baseline border=0 hspace=0 src="img/rain3.png" />
<img id="RAIN4C" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=9 height=17 align=baseline border=0 hspace=0 src="img/rain4.png" />
<img id="RAIN5C" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=65 height=142 align=baseline border=0 hspace=0 src="img/rain5.png" />
<img id="RAIN1D" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=47 height=103 align=baseline border=0 hspace=0 src="img/rain1.png" />
<img id="RAIN2D" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=25 height=55 align=baseline border=0 hspace=0 src="img/rain2.png" />
<img id="RAIN3D" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=17 height=35 align=baseline border=0 hspace=0 src="img/rain3.png" />
<img id="RAIN4D" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=9 height=17 align=baseline border=0 hspace=0 src="img/rain4.png" />
<img id="RAIN5D" style="z-index: 128; left: 0px; top: -500px; position: absolute;" width=65 height=142 align=baseline border=0 hspace=0 src="img/rain5.png" />

<img id="BULLET1" style="z-index: 91; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET2" style="z-index: 101; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET3" style="z-index: 81; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET4" style="z-index: 121; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET5" style="z-index: 111; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET6" style="z-index: 91; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />

<img id="BULLET7" style="z-index: 101; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET8" style="z-index: 81; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET9" style="z-index: 121; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="BULLET10" style="z-index: 111; left: 0px; top: -500px; position: absolute;" width=12 height=24 align=baseline border=0 hspace=0 src="img/bullet.png" />
<img id="FLAME1" style="z-index: 91; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame1.png" />
<img id="FLAME2" style="z-index: 101; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame2.png" />
<img id="FLAME3" style="z-index: 81; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame3.png" />
<img id="FLAME4" style="z-index: 121; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame4.png" />
<img id="FLAME5" style="z-index: 111; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame4.png" />
<img id="FLAME6" style="z-index: 91; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame1.png" />
<img id="FLAME7" style="z-index: 101; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame2.png" />
<img id="FLAME8" style="z-index: 81; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame3.png" />
<img id="FLAME9" style="z-index: 121; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame4.png" />
<img id="FLAME10" style="z-index: 111; left: 0px; top: -500px; position: absolute;" width=13 height=26 align=baseline border=0 hspace=0 src="img/flame4.png" />

<img id="CLOUDS1" style="z-index: 120; left: 0px; top: -500px; position: absolute;" width=1600 height=142 align=baseline border=0 hspace=0 src="img/clouds1.png" />
<img id="CLOUDS2" style="z-index: 110; left: 0px; top: -500px; position: absolute;" width=1600 height=183 align=baseline border=0 hspace=0 src="img/clouds2.png" />

<img id="CLOUDS3" style="z-index: 90; left: 0px; top: -500px; position: absolute;" width=1600 height=214 align=baseline border=0 hspace=0 src="img/clouds3.png" />

<img id="TITLE" style="z-index: 152; left: 0px; top: -500px; position: absolute;" width=173 height=95 align=baseline border=0 hspace=0 src="img/apophis-2029.png" />

<img id="GRASS11" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=142 height=119 align=baseline border=0 hspace=0 src="img/grass11.png" />
<img id="GRASS12" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=142 height=119 align=baseline border=0 hspace=0 src="img/grass12.png" />
<img id="GRASS13" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=142 height=119 align=baseline border=0 hspace=0 src="img/grass13.png" />

<img id="GRASS21" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=121 height=101 align=baseline border=0 hspace=0 src="img/grass21.png" />
<img id="GRASS22" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=121 height=101 align=baseline border=0 hspace=0 src="img/grass22.png" />
<img id="GRASS23" style="z-index: 123; left: 0px; top: -500px; position: absolute;" width=121 height=101 align=baseline border=0 hspace=0 src="img/grass23.png" />

<img id="GAMEOVER" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=187 height=28 align=baseline border=0 hspace=0 src="img/game-over.png" />
<img id="GETREADY" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=195 height=33 align=baseline border=0 hspace=0 src="img/get-ready.png" />
<img id="INFO" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=30 height=11 align=baseline border=0 hspace=0 src="img/info.png" onClick="showInfo();" />
<img id="LEVEL" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=36 height=12 align=baseline border=0 hspace=0 src="img/level.png" />
<img id="LIVES" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=34 height=12 align=baseline border=0 hspace=0 src="img/lives.png" />

<img id="RESET" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=39 height=12 align=baseline border=0 hspace=0 src="img/reset.png" onClick="resetButton();" />
<img id="PAUSE" style="z-index: 152; left: 0px; top: -500px; position: absolute;" width=40 height=12 align=baseline border=0 hspace=0 src="img/pause.png" onClick="togglePaused();" />
<img id="SCORE" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=42 height=13 align=baseline border=0 hspace=0 src="img/score.png" />

<img id="SHIELD1" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield1.png" />
<img id="SHIELD2" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield2.png" />
<img id="SHIELD3" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield3.png" />
<img id="SHIELD4" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield4.png" />
<img id="SHIELD5" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield5.png" />
<img id="SHIELD6" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield6.png" />
<img id="SHIELD7" style="z-index: 45; left: 0px; top: -500px; position: absolute;" width=91 height=39 align=baseline border=0 hspace=0 src="img/shield7.png" />

<img id="TANK1" style="z-index: 122; left: 0px; top: -500px; position: absolute;" width=66 height=43 align=baseline border=0 hspace=0 src="img/tank1.png" />
<img id="TANK2" style="z-index: 122; left: 0px; top: -500px; position: absolute;" width=66 height=43 align=baseline border=0 hspace=0 src="img/tank2.png" />
<img id="TANK3" style="z-index: 122; left: 0px; top: -500px; position: absolute;" width=66 height=43 align=baseline border=0 hspace=0 src="img/tank3.png" />

<img id="TANKEXPLODE" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode1.png" />

<img id="TANKEXPLODE2" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode2.png" />
<img id="TANKEXPLODE3" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode3.png" />
<img id="TANKEXPLODE4" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode4.png" />
<img id="TANKEXPLODE5" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode5.png" />
<img id="TANKEXPLODE6" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode6.png" />
<img id="TANKEXPLODE7" style="z-index: 66; left: 0px; top: -500px; position: absolute;" width=70 height=62 align=baseline border=0 hspace=0 src="img/tank-explode7.png" />

<img id="SCORE1" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers0.png" />
<img id="SCORE2" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers1.png" />
<img id="SCORE3" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers2.png" />
<img id="SCORE4" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers3.png" />
<img id="SCORE5" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers4.png" />
<img id="LEVEL1" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers5.png" />
<img id="LEVEL2" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers6.png" />
<img id="LIVES1" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers7.png" />
<img id="LIVES2" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers8.png" />
<img id="NUMBERS9" style="z-index: 150; left: 0px; top: -500px; position: absolute;" width=18 height=21 align=baseline border=0 hspace=0 src="img/numbers9.png" />

<img id="METEOR1" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=66 height=47 align=baseline border=0 hspace=0 src="img/meteor11.png" />
<img id="METEOR2" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=59 height=49 align=baseline border=0 hspace=0 src="img/meteor21.png" />
<img id="METEOR3" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=39 height=34 align=baseline border=0 hspace=0 src="img/meteor31.png" />
<img id="METEOR4" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=37 height=33 align=baseline border=0 hspace=0 src="img/meteor41.png" />
<img id="METEOR5" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=66 height=47 align=baseline border=0 hspace=0 src="img/meteor11.png" />
<img id="METEOR6" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=59 height=49 align=baseline border=0 hspace=0 src="img/meteor21.png" />
<img id="METEOR7" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=39 height=34 align=baseline border=0 hspace=0 src="img/meteor31.png" />
<img id="METEOR8" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=37 height=33 align=baseline border=0 hspace=0 src="img/meteor41.png" />
<img id="METEOR9" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=66 height=47 align=baseline border=0 hspace=0 src="img/meteor11.png" />
<img id="METEOR10" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=59 height=49 align=baseline border=0 hspace=0 src="img/meteor21.png" />
<img id="METEOR11" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=39 height=34 align=baseline border=0 hspace=0 src="img/meteor31.png" />
<img id="METEOR12" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=37 height=33 align=baseline border=0 hspace=0 src="img/meteor41.png" />
<img id="TEMP12" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=66 height=47 align=baseline border=0 hspace=0 src="img/meteor12.png" />
<img id="TEMP13" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=66 height=47 align=baseline border=0 hspace=0 src="img/meteor13.png" />
<img id="TEMP22" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=59 height=49 align=baseline border=0 hspace=0 src="img/meteor22.png" />
<img id="TEMP23" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=59 height=49 align=baseline border=0 hspace=0 src="img/meteor23.png" />

<img id="TEMP32" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=39 height=34 align=baseline border=0 hspace=0 src="img/meteor32.png" />
<img id="TEMP33" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=39 height=34 align=baseline border=0 hspace=0 src="img/meteor33.png" />
<img id="TEMP42" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=37 height=33 align=baseline border=0 hspace=0 src="img/meteor42.png" />
<img id="TEMP43" style="z-index: 85; left: 0px; top: -500px; position: absolute;" width=37 height=33 align=baseline border=0 hspace=0 src="img/meteor43.png" />

<img id="PUFF1" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF2" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF3" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF4" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />
<img id="PUFF5" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF6" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF7" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF8" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />
<img id="PUFF9" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF10" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF11" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF12" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />

<img id="PUFF13" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF14" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF15" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF16" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />
<img id="PUFF17" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF18" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF19" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF20" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />
<img id="PUFF21" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff11.png" />
<img id="PUFF22" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff21.png" />
<img id="PUFF23" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff31.png" />
<img id="PUFF24" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff41.png" />
<img id="TPUFF12" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff12.png" />
<img id="TPUFF13" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=56 height=39 align=baseline border=0 hspace=0 src="img/puff13.png" />
<img id="TPUFF22" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff22.png" />
<img id="TPUFF23" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=40 height=44 align=baseline border=0 hspace=0 src="img/puff23.png" />
<img id="TPUFF32" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff32.png" />

<img id="TPUFF33" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=32 height=29 align=baseline border=0 hspace=0 src="img/puff33.png" />
<img id="TPUFF42" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff42.png" />
<img id="TPUFF43" style="z-index: 84; left: 0px; top: -500px; position: absolute;" width=24 height=22 align=baseline border=0 hspace=0 src="img/puff43.png" />

<img id="PAUSED" style="z-index: 151; left: 0px; top: -500px; position: absolute;" width=100 height=100 align=baseline border=0 hspace=0 src="img/paused.png" />

<img id="EXPLOSION1" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode11.png" />
<img id="EXPLOSION2" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode21.png" />
<img id="EXPLOSION3" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode31.png" />
<img id="EXPLOSION4" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode11.png" />
<img id="EXPLOSION5" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode21.png" />
<img id="EXPLOSION6" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode31.png" />
<img id="EXPLOSION7" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode11.png" />
<img id="EXPLOSION8" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode21.png" />
<img id="EXPLOSION9" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode31.png" />
<img id="EXPLODE12" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode12.png" />
<img id="EXPLODE13" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode13.png" />

<img id="EXPLODE14" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode14.png" />
<img id="EXPLODE15" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=82 height=91 align=baseline border=0 hspace=0 src="img/explode15.png" />
<img id="EXPLODE22" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode22.png" />
<img id="EXPLODE23" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode23.png" />
<img id="EXPLODE24" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode24.png" />
<img id="EXPLODE25" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=100 height=106 align=baseline border=0 hspace=0 src="img/explode25.png" />
<img id="EXPLODE32" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode32.png" />
<img id="EXPLODE33" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode33.png" />
<img id="EXPLODE34" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode34.png" />
<img id="EXPLODE35" style="z-index: 86; left: 0px; top: -500px; position: absolute;" width=79 height=92 align=baseline border=0 hspace=0 src="img/explode35.png" />

<img id="INFOTEXT" style="z-index: 152; left: 0px; top: -500px; position: absolute;" width=313 height=171 align=baseline border=0 hspace=0 src="img/infotext.png" onClick="togglePaused();" />


<script language="JavaScript">
  getWindowSize();
  moveObjTo(LOADING, myCenterH - 185, myCenterV - 30);
  picLoadInit();
</script>

</body>
</html>
